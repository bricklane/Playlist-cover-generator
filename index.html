<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generative Art with Tuber Shape</title>
<style>
  #artCanvas {
    width: 300px;
    height: 300px;
    display: block;
    background-color: #013220; /* Dark green background */
  }
  .button {
    padding: 10px;
    margin: 5px;
    cursor: pointer;
  }
</style>
</head>
<body>
<canvas id="artCanvas" width="300" height="300"></canvas>
<button class="button" onclick="createTuberShape()">Create</button>
<button class="button" onclick="savePattern()">Save</button>

<script>
function createTuberShape() {
  var canvas = document.getElementById('artCanvas');
  var ctx = canvas.getContext('2d');
  var width = canvas.width;
  var height = canvas.height;

  // Clear previous content
  ctx.clearRect(0, 0, width, height);

  // Set the dark green background
  ctx.fillStyle = '#013220'; // Dark green
  ctx.fillRect(0, 0, width, height);

  // Define the tuber shape in the center with a random number of sides between 8 and 12
  var sides = Math.floor(Math.random() * (12 - 8 + 1)) + 8;
  var centerX = width / 2;
  var centerY = height / 2;
  var maxRadius = 60; // Maximum radius
  var minRadius = 50; // Adjusted minimum radius for less distinct indentation

  // Draw the tuber shape
  ctx.beginPath();
  var startAngle = Math.random() * Math.PI * 2; // Random start angle for irregularity
  for (var i = 0; i < sides; i++) {
    // Randomly decide if the angle should be inverted
    var inverted = Math.random() > 0.9; // 10% chance of inversion
    var angle = startAngle + (i * (2 * Math.PI / sides));
    var rad = inverted ? minRadius : (maxRadius + Math.random() * 20 - 10); // Less distinct inversion
    var x = centerX + rad * Math.cos(angle);
    var y = centerY + rad * Math.sin(angle);
    ctx.lineTo(x, y);
  }
  ctx.closePath();

  // Fill the tuber shape
  ctx.fillStyle = '#8B4513'; // Dark orange color
  ctx.fill();
}

function savePattern() {
  var canvas = document.getElementById('artCanvas');
  var dataURL = canvas.toDataURL('image/png');
  var downloadLink = document.createElement('a');
  downloadLink.href = dataURL;
  downloadLink.download = 'tuber-shape.png';
  document.body.appendChild(downloadLink);
  downloadLink.click();
  document.body.removeChild(downloadLink);
}
</script>
</body>
</html>
